# 团队分工与协作指南

为了确保前后端高效对接，避免“各写各的，最后连不上”的情况，请大家严格按照以下角色分工进行开发。

## 📂 项目结构概览

- **`frontend/`**: 前端代码主目录（已由前端负责人初始化完毕）。
- **`backend/`**: 后端代码主目录。
- **`docs/`**: 项目文档中心（存放 Git 指南、API 契约等）。

## 👥 角色分工与详细任务

### 1. 后端开发组

**成员**：(核心调度负责人)、(工具开发人员) 

**工作区域**：`backend/` 文件夹

#### 🛑 注意

**在写第一行 Python 代码前，请务必先阅读前端代码，理解你们需要“配合”什么：**

1. **看数据格式**：打开 `frontend/src/api/types.ts`。
   - 这是数据规定。后端返回的 JSON 字段名（Key）必须完全遵守这里的定义（如 `WorkflowResult`, `ToolCallLog`），否则前端会报错或白屏。
2. **看业务流程**：打开 `frontend/src/api/mockWorkflow.ts`。
   - 这是**业务剧本**。仔细看前端是如何模拟 `Running -> Success` 状态流转的，你们的后端逻辑需要复刻这个过程。

#### 🛠 具体任务

- **核心调度负责人**：
  - 新建 `backend` 文件夹，搭建 Python (FastAPI/Flask) 环境。
  - 接入大模型 (LLM)，维护 Prompt（提示词）。
  - 编写调度接口，接收前端请求，并按流程返回数据。
- **工具开发人员**：
  - 在 `backend` 中编写具体的工具函数（天气查询、数据分析等）。
  - 确保工具的输入输出能被调度层正确调用。

### 2. 前后端协同组

**成员**：(前端与调度协同人员) **工作区域**：连接 `frontend/` 和 `backend/`

#### 🔗 你的任务 (核心连接点)

你的工作是在后端开发基本完成后开始，负责把“假的 Mock”换成“真的 API”。

1. **替换核心逻辑**：
   -  **`frontend/src/api/mockWorkflow.ts`**。
   - **任务**：把里面 `setTimeout` 等模拟代码删掉，替换为真实的 `fetch` 或 `axios` 请求，去调用后端接口。
2. **解决跨域**：
   - 修改 `frontend/vite.config.ts`，配置 Proxy 代理，确保前端能连上后端服务器。
3. **调试与适配**：
   - 如果后端返回的数据和前端 `types.ts` 定义有出入：要么改前端适配，要么让后端改。
   - 确保 `ResultPanel` 能正确渲染出图表。

### 3. 测试组

**成员**：(测试负责人) 

**工作区域**：全系统 

**时间点**：协同人员完成对接后

#### 🧪 任务

1. **全链路测试**：从前端输入一句话开始，看是否能正确触发后端调度、工具调用，并最终在前端画出图表。
2. **边界测试**：测试异常情况（如网络断开、模型超时、工具报错等），确保系统有错误提示，而不是直接崩溃。
3. **验收**：确认所有功能均已实现。

## 🚀 协作注意事项

1. **Git 规范**：请遵守力开发流程，提交前先 Pull。
2. **文档**：任何接口变动，请同步更新文档。
