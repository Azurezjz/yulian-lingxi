# 快速开始 - 天气API配置

## 配置天气API

你的天气API Key已经配置好了：`94a92bb92e9d4348adae868b20b63f0c`（和风天气）

### 方法1：使用 .env 文件（推荐）

1. 在 `backend/` 目录下创建 `.env` 文件
2. 添加以下内容：

```bash
WEATHER_API_KEY=94a92bb92e9d4348adae868b20b63f0c
```

3. 重启后端服务

### 方法2：临时测试

如果不想创建 .env 文件，可以临时在代码中设置（仅用于测试）：

在 `backend/app/config.py` 中临时修改：

```python
WEATHER_API_KEY: Optional[str] = "94a92bb92e9d4348adae868b20b63f0c"
```

**注意：** 测试完成后请删除，使用 .env 文件更安全。

## 验证配置

1. 重启后端服务
2. 在前端输入："查北京天气"
3. 查看返回结果，应该显示真实的天气数据
4. 检查后端日志，应该看到 `is_mock: False`（表示使用了真实API）

## 测试其他城市

可以测试以下城市：
- "查上海天气"
- "查广州天气"
- "查深圳天气"
- "查北京未来3天天气"

## 故障排查

如果仍然显示 Mock 数据：

1. **检查 .env 文件位置**：确保在 `backend/` 目录下
2. **检查变量名**：确保是 `WEATHER_API_KEY`（全大写）
3. **检查重启**：修改 .env 后需要重启服务
4. **查看日志**：检查是否有 "天气 API 调用失败" 的错误信息

## API限制

和风天气 免费套餐限制：
- 每分钟 300 次请求
- 每天 5,000 次调用
- 支持7天天气预报
- 足够日常使用

